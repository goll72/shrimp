digraph shifting {
	label="sha, shl, shr, ror, rol\n-----------------------\n";
	labelloc="t";
	fontsize=20;
	fontname="mono";

	node [shape=oval, fontname="mono"];
	fetch [style=dashed];
	FetchImm [label="reg.waddr = 10000\nreg.in = zext(IR[3:0])\nreg.word = 1\nreg.w = 1"];
	ALUOp [label="Complete ALU Operation"];

	node [shape=diamond, fontname="mono"];
	IsImm [label="imm == 1?"];

	node [shape=rect, fontname="mono"];
	Reg2 [label="reg.reg2addr = IR.reg2"];
	RegImm [label="reg.reg2addr = 10000"];

	fetch -> IsImm;
	IsImm -> FetchImm [label="yes"];
	IsImm -> Reg2     [label="no"];
	
	Reg2  -> ALUOp    [style=bold];

	FetchImm -> RegImm;
	RegImm -> ALUOp   [style=bold];

	ALUOp -> fetch;
}
